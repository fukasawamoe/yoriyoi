<header class="flex flex-col h-auto sm:flex-row justify-between items-center border-y-2">
  <% if logged_in? %>
      <%= link_to home_path do %>
        <%= image_tag 'yoriyoi_logo.png', class: 'object-contain h-10 m-4' %>
      <% end %>
  <% else %>
      <%= link_to root_path do %>
        <%= image_tag 'yoriyoi_logo.png', class: 'object-contain h-10 m-4' %>
      <% end %>
  <% end %>
  <% if logged_in? %>
    <nav class="z-10">
      <button id="button" type="button" class="fixed z-10 top-6 right-4">
        <i id="bars" class="fa-solid fa-bars fa-2x "></i>
        <i id="xmark" class="fa-solid fa-xmark fa-2x hidden"></i>
      </button>
        <ul id="menu" class="z-0 fixed top-0 left-0 w-full text-center bg-gray-100 translate-x-full transition ease-linear">
          <li class="p-3"><%= link_to raw('<i class="fa-solid fa-dove"></i> スケジュールを作成する'), new_schedule_path %></li>
          <li class="p-3"><%= link_to raw('<i class="fa-solid fa-list"></i><i class="fa-solid fa-pencil"></i> スケジュールの確認・編集'), schedules_path %></li>
          <li class="p-3"><%= link_to raw('<i class="fa-solid fa-house-user"></i><i class="fa-solid fa-gear"></i> マイページ'), "#" %></li>
          <li class="p-3"><%= link_to raw('<i class="fa-solid fa-right-from-bracket"></i> ログアウト'), logout_path, class: 'nav-link', data: { turbo_method: :delete ,turbo_confirm: 'ログアウトします' } %></li>
        </ul>
    </nav>
  <% else %>
    <nav class="border-t-2 sm:border-none w-full sm:w-auto flex justify-around sm:justify-end">
      <a><%= link_to raw('<i class="fa-solid fa-user-plus"></i> ユーザー登録'), sign_up_path, class: 'py-4 w-1/3 sm:m-3 bg-red-200 sm:bg-transparent text-center  whitespace-nowrap' %></a>
      <a><%= link_to raw('<i class="fa-solid fa-right-to-bracket"></i> ログイン'), login_path, class: 'py-4 w-1/3 sm:m-3 bg-lime-200 sm:bg-transparent text-center  whitespace-nowrap' %></a>
      <a><%= link_to raw('<i class="fa-regular fa-circle-question"></i> お問い合わせ'), "#", class: 'py-4 w-1/3 sm:m-3 bg-orange-200 sm:bg-transparent text-center  whitespace-nowrap' %></a>
    </nav>
  <% end %>
</header>


<script>
  button.addEventListener('click', event => {
    bars.classList.toggle('hidden');
    xmark.classList.toggle('hidden');
    menu.classList.toggle('translate-x-full');
  })
</script>


